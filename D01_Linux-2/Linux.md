# Операционные системы UNIX/Linux (Базовый)

Установка и обновления системы Linux. Основы администрирования.

## Contents

1. [Установка ОС](#part-1-установка-ос) 
2. [Создание пользователя](#part-2-создание-пользователя)
3. [Настройка сети ОС](#part-3-настройка-сети-ос) 
    1. [Название машины вида user-1](#название-машины-вида-user-1)
    2. [Временная зона](#временная-зона)
    3. [Названия сетевых интерфейсов](#названия-сетевых-интерфейсов)
    4. [Объяснение интерфейса lo](#объяснение-интерфейса-lo)
    5. [Адрес устройства, на котором вы работаете, от DHCP сервера](#адрес-устройства-на-котором-вы-работаете-от-dhcp-сервера)
    6. [Внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw)](#внутренний-ip-адрес-шлюза-он-же-ip-адрес-по-умолчанию-gw)
    7. [Расшифровка DHCP](##расшифровка-dhcp)
    8. [Статичные настройки ip, gw, dns](#статичные-настройки-ip-gw-dns)
    9. [Перезапуск виртуальной машины](#перезапуск-виртуальной-машины)
    10. [Пропинговать удаленные хосты 1.1.1.1 и ya.ru](#пропинговать-удаленные-хосты-1111-и-yaru)

4. [Обновление ОС](#part-4-обновление-ос)
5. [Использование команды sudo](#part-5-использование-команды-sudo)
    1. [Разрешить пользователю, созданному в Part 2, выполнять команду sudo](#разрешить-пользователю-созданному-в-part-2-выполнять-команду-sudo)
    2. [Поменять hostname ОС от имени пользователя, созданного в пункте Part 2 (используя sudo)](#поменять-hostname-ос-от-имени-пользователя-созданного-в-пункте-part-2-используя-sudo)
    3. [Объяснение назначения команды sudo.](#объяснение-назначения-команды-sudo)
6. [Установка и настройка службы времени](#part-6-установка-и-настройка-службы-времени)
7. [Part 7. Установка и использование текстовых редакторов](#part-7-установка-и-использование-текстовых-редакторов)
    1. [Установить текстовые редакторы](#установить-текстовые-редакторы-vim--любые-два-по-желанию-nano-mcedit-joe-и-тд)
    2. [Используя каждый из трех выбранных редакторов, создайте файл test_X.txt, где X -- название редактора, в котором создан файл. Напишите в нём свой никнейм, закройте файл с сохранением изменений](#используя-каждый-из-трех-выбранных-редакторов-откройте-файл-на-редактирование-отредактируйте-файл-заменив-никнейм-на-строку-21-school-21-закройте-файл-без-сохранения-изменений)
        1. [VIM](#vim)
        2. [NANO](#nano)
        3. [JOE](#joe)
    3. [Используя каждый из трех выбранных редакторов, откройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений](#используя-каждый-из-трех-выбранных-редакторов-откройте-файл-на-редактирование-отредактируйте-файл-заменив-никнейм-на-строку-21-school-21-закройте-файл-без-сохранения-изменений)
        1. [VIM](#vim-1)
        2. [NANO](#nano-1)
        3. [JOE](#joe-1)
    4. [Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое](#используя-каждый-из-трех-выбранных-редакторов-отредактируйте-файл-ещё-раз-по-аналогии-с-предыдущим-пунктом-а-затем-освойте-функции-поиска-по-содержимому-файла-слово-и-замены-слова-на-любое-другое)
        1. [VIM](#vim-2)
        2. [NANO](#nano-2)
        3. [JOE](#joe-2)
8. [Part 8. Установка и базовая настройка сервиса SSHD](#part-8-установка-и-базовая-настройка-сервиса-sshd)
    1. [Установить службу SSHd](#установить-службу-sshd)
    2. [Добавить автостарт службы при загрузке системы](#добавить-автостарт-службы-при-загрузке-системы)
    3. [Перенастроить службу SSHd на порт 2022](#перенастроить-службу-sshd-на-порт-2022)
    4. [Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи](#используя-команду-ps-показать-наличие-процесса-sshd-для-этого-к-команде-нужно-подобрать-ключи)
    5. [Перезагрузить систему](#перезагрузить-систему)
    6. [Вывод команды netstat -tan должен содержать](#вывод-команды-netstat--tan-должен-содержать)
    7. [Объяснение значения ключей -tan, значение каждого столбца вывода, значение 0.0.0.0](#объяснение-значения-ключей--tan-значение-каждого-столбца-вывода-значение-0000)
9. [Part 9. Установка и использование утилит top, htop](#part-9-установка-и-использование-утилит-top-htop)
10. [Part 10. Использование утилиты fdisk](#part-10-использование-утилиты-fdisk)
11. [Part 11. Использование утилиты df](#part-11-использование-утилиты-df)
12. [Part 12. Использование утилиты du](#part-12-использование-утилиты-du)
13. [Part 13. Установка и использование утилиты ncdu](#part-13-установка-и-использование-утилиты-ncdu)
14. [Part 14. Работа с системными журналами](#part-14-работа-с-системными-журналами)
    1. [/var/log/dmesg](#1-varlogdmesg)
    2. [/var/log/syslog](#2-varlogsyslog)
    3. [/var/log/auth.log](#3-varlogauthlog)
    4. [Cкрин с сообщением о рестарте службы](#cкрин-с-сообщением-о-рестарте-службы)
15. [Part 15. Использование планировщика заданий CRON](#part-15-использование-планировщика-заданий-cron)
    1. [Используя планировщик заданий, запустите команду uptime через каждые 2 мин](#используя-планировщик-заданий-запустите-команду-uptime-через-каждые-2-мин)
    2. [Найти в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении](#найти-в-системных-журналах-строчки-минимум-две-в-заданном-временном-диапазоне-о-выполнении)
    3. [Вывести на экран список текущих заданий для CRON](#вывести-на-экран-список-текущих-заданий-для-cron)
    4. [Вставить в отчёт скрин со строчками о выполнении](#вставить-в-отчёт-скрин-со-строчками-о-выполнении)
    5. [Удалите все задания из планировщика заданий](#удалите-все-задания-из-планировщика-заданий)
    6. [Cкрин со списком текущих заданий для CRON](#cкрин-со-списком-текущих-заданий-для-cron)

# Part 1. Установка ОС

## Установить Ubuntu 20.04 Server LTS без графического интерфейса.

![Версия](<images/1.png>)


# Part 2. Создание пользователя

##### Создай пользователя, отличного от созданного при установке. Пользователь должен быть добавлен в группу `adm`.

- Создание нового пользователя с заданными именем и паролем:

    `sudo adduser test_user`

- Добавление пользователя в группу adm:

    `sudo usermod -aG adm test_user`

![test_user,amd](<images/2.png>)

# Part 3. Настройка сети ОС

## Название машины вида user-1

    sudo hostnamectl set-hostname user-1

![Имя машины](<images/3.png>)

## Временная зона

    sudo timedatectl set-timezone "$(curl -s https://ipapi.co/timezone)"

- Эта команда устанавливает временную зону в соответствии с текущим местоположением, определенным по IP-адресу.

![Тайм-зона](<images/4.png>)

## Названия сетевых интерфейсов

    sudo ip link show

- Показывает все сетевые интерфейсы, включая те, которые не активированы в данный момент.

![Интерфейсы](<images/5.png>)

## Объяснение интерфейса lo

    **lo (loopback device)** – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1.

## Адрес устройства, на котором вы работаете, от DHCP сервера

    `wget -O - -q icanhazip.com`

- Эта команда выполняет запрос к внешнему серверу icanhazip.com через утилиту wget. Флаг "-O" указывает на имя файла, в который будет записан результат запроса (в данном случае - "-", что означает, что результат будет выведен в стандартный вывод). Флаг "-q" указывает на тихий режим работы, без отображения информации о прогрессе. В результате команда выведет на экран IP-адрес компьютера.
- icanhazip.com - это бесплатный сервис, который позволяет узнать IP-адрес вашего компьютера или сервера. Для этого достаточно отправить GET-запрос по адресу icanhazip.com, и сервер ответит вам вашим текущим IP-адресом.

![Внешний IP-адрес компьютера](<images/6.png>)

## Внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw)

Для вывода внутреннего IP-адреса шлюза (он же IP-адрес по умолчанию) можно воспользоваться командой ip route show, которая отобразит таблицу маршрутизации.

    ip route show | grep 'default via' | awk '{print $3}'

- ip route show - команда для вывода информации о таблице маршрутизации
- grep 'default via' - фильтрация вывода, чтобы оставить только строку с маршрутом по умолчанию
- awk '{print $3}' - обработка строк с помощью awk. В данном случае мы выбираем 3-е поле из строки (разделитель по умолчанию - пробел), которое является IP-адресом шлюза, и выводим его на экран с помощью команды print.

![Внутренний IP-адрес шлюза](<images/7.png>)

## Расшифровка DHCP

    **DHCP (англ. Dynamic Host Configuration Protocol)** — протокол динамической настройки узла — прикладной протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP. Данный протокол работает по модели «клиент-сервер».

## Статичные настройки ip, gw, dns

### Отредактировать network/interfaces
    ip route

- узнать текущий IP-адрес

        sudo nano /etc/network/interfaces

- address - желаемый адрес
- netmask - желаемая маска сети
- gateway - IP-адрес шлюза по умолчанию (узнаем командой `ip route`)

![Статичные настройки](<images/8.png>)

### Отредактировать 00-installer-config.yaml и задать ip

    sudo vim /etc/netplan/00-installer-config.yaml

![Редактирование](<images/10.png>)

### Применить конфигурацию 

    sudo netplan `КОМАНДА`

`try` - попробовать применить конфигурацию с возможностью отмены;

`apply` - применить конфигурацию;

`generate` - проверка текущей конфигурации и запись на диск;

`config` - записать текущую конфигурацию сети в YAML

![Редактирование](<images/9.png>)

## Перезапуск виртуальной машины

    sudo reboot

![Перезапуск](<images/11.png>)

## Пропинговать удаленные хосты 1.1.1.1 и ya.ru

    ping ya.ru

![Пинг ya.ru](<images/12.png>)

    ping 1.1.1.1

![Пинг 1.1.1.1](<images/13.png>)

# Part 4. Обновление ОС

## Обновление системных пакетов

    sudo apt-get update

    sudo apt-get upgrade

![Системные пакеты обновлены](<images/14.png>)

# Part 5. Использование команды sudo

## Разрешить пользователю, созданному в Part 2, выполнять команду sudo

    sudo usermod -a -G sudo test_user

## Поменять hostname ОС от имени пользователя, созданного в пункте Part 2 (используя sudo)

`su test_user` - сменить пользователя

`hostnamectl set-hostname test_users_host` - поменять хостнейм

![Хостнейм изменен 1](<images/15.png>)

![Хостнейм изменен 1](<images/16.png>)
## Объяснение назначения команды sudo

**Команда `sudo` ( substitute user and do - подменить пользователя и выполнить)** 
- позволяет строго определенным пользователям выполнять указанные программы с административными привилегиями без ввода пароля суперпользователя root. Точнее, команда `sudo` позволяет выполнять программы от имени любого пользователя, но, если идентификатор или имя этого пользователя не указаны, то предполагается выполнение от имени суперпользователя root. 
- Таким образом, использование `sudo` позволяет выполнять привилегированные команды обычным пользователям без необходимости ввода пароля суперпользователя root . Список пользователей и перечень их прав по отношению к ресурсам системы может быть настроен оптимальным образом для обеспечения комфортной и безопасной работы. Например, команда `sudo` в Ubuntu Linux, используется в режиме, позволяющем выполнять любые задачи администрирования системы без интерактивного входа под учетной записью root.

# Part 6. Установка и настройка службы времени

## Настроить службу автоматической синхронизации времени.

    timedatectl status

- команда выводит время часового пояса, в котором вы сейчас находитесь.

![Вывод времени часового пояса](<images/17.png>)

`sudo timedatectl set-ntp on`

- включить автоматическую синхронизацию времени

`sudo timedatectl set-ntp no`

- выключить автоматическую синхронизацию времени

![Отключение и подключение автоматической синхронизации времени](<images/18.png>)

    timedatectl show

- команда показывает текущие настройки даты и времени операционной системы.

- `Time zone:` указывает текущий установленный часовой пояс.
- `NTP synchronized:` указывает, синхронизируется ли системное время с удаленным NTP-сервером.

![Вывод текущих настроек даты и времени](<images/19.png>)

# Part 7. Установка и использование текстовых редакторов

## Установить текстовые редакторы VIM (+ любые два по желанию NANO, MCEDIT, JOE и т.д.)

`sudo apt install mc`

- установка mcedit

`sudo apt install joe`       # version 4.6-1build2 \
     or \
`sudo apt install joe-jupp`  # version 3.1.39-1

- установка joe

![Установка текстовых редакторов и проверка](<images/20.png>)

## Используя каждый из трех выбранных редакторов, создайте файл test_X.txt, где X -- название редактора, в котором создан файл. Напишите в нём свой никнейм, закройте файл с сохранением изменений

### VIM

    vim test_vim.txt

- создать новый файл и открыть его

Для перехода в режим ввода текста нажать `i`

Для сохранения и выхода
- выйти в основной режим - `Esc`
- выйти и сохранить - `:wq`

![VIM](<images/21.png>)

### NANO

`nano test_nano.txt`

- создать новый файл и открыть его

Для сохранения и выхода нажать
- `Ctrl + o `
- `Enter`
- `Ctrl + x`

![NANO](<images/22.png>)
### JOE

`joe test_joe.txt`

- создать новый файл и открыть его

Для сохранения и выхода нажать 
- `Ctrl + k `
- `x`

![JOE](<images/23.png>)

## Используя каждый из трех выбранных редакторов, откройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений

### VIM
`vim test_vim.txt`

- открыть файл

Выйти без сохранения изменений - `:q!`
выйти, когда нет изменений - `:qa`

![VIM](<images/24.png>)

### NANO
`nano test_nano.txt`

- открыть файл

Для выхода без сохранения изменений нажать
- `Ctrl + x`
- `n`

![NANO](<images/25.png>)

### JOE

`joe test_joe.txt`

- открыть файл

Для выхода без сохранения изменений нажать
- `Ctrl + c`
- `y`

![JOE](<images/26.png>)

## Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое

### VIM

**Поиск слова**

- нажать в основном режиме `/`
- ввести искомое слово
- `Enter`
- нажать `n` для перехода к следующему вхождению

**Замена слова на другое (поиск с заменой)**

- перейти в командный режим - `:s/искомый текст/текст для замены/`

- - поиск во всей строке, в конце флаг `g` - `:s/искомый текст/замена/g`

- - поиск во всем документе, в начале знак `%` - `:%s/искомый текст/замена/g`

![Поиск](<images/27.png>)
![Замена](<images/28.png>)

### NANO

**Поиск слова**

- `Ctrl + w`
- Ввести слово
- `Enter`
- Для перехода к следующему вхождению повторить `Ctrl + w` `Enter`

**Замена слова на другое (поиск с заменой)** 

- `Ctrl + \` 
- вводим слово для поиска 
- `Enter` 
- вводим слово на замену
- `Enter`
- `y` для подтверждения замены
- Чтобы заменить все вхождения найденного слова, нажать на клавиатуре A (All). Чтобы заменить только первое вхождение, нажать N (Next). Если вы надо отменить замену, нажать на клавиатуре C (Cancel), а если вы хотите выйти из поиска и замены, нажать на клавиатуре Y (Yes).

![Поиск](<images/29.png>)
![Замена](<images/30.png>)

### JOE

**Поиск слова**

- `Ctrl + k`
- `f`
- `Enter`
- `Enter`
- Поиск будет с того места, где находится курсор. 
- Для поиска следующего вхождения `Ctrl + l`

**Замена слова на другое (поиск с заменой)**

- `Ctrl + k`
- `f`
- вводим слово для поиска
- `Enter`
- `r`
- вводим слово на замену
- `Enter`
- нажимаем `y` для подтверждения

![Поиск](<images/31.png>)
![Замена](<images/32.png>)

# Part 8. Установка и базовая настройка сервиса SSHD

## Установить службу SSHd

    sudo apt install ssh

![Установка службы SSHd](<images/33.png>)

## Добавить автостарт службы при загрузке системы

    sudo systemctl enable ssh

- `systemctl` используется для управления службами в системе
- `enable` используется для включения службы SSH в автозагрузку

![Добавление автостарта службы при загрузке системы](<images/34.png>)

## Перенастроить службу SSHd на порт 2022

    sudo nano /etc/ssh/sshd_config

- открыть редактором файл `sshd_config`
- отредактировать параметр `#port 22` на `port 2022`

![Перенастройка службы SSHd на порт 2022](<images/35.png>)

## Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи

    ps -A

![Наличие процесса sshd 1](<images/36.png>)

![Наличие процесса sshd 2](<images/37.png>)

    sshd ps -A | grep sshd

- сразу отфильтровать по ключевому слову

**Команда ps** 

- выводит список текущих процессов на вашем сервере в виде таблицы, с которой можно удобно работать: сортировать, изменять количество колонок и прочие. У утилиты `ps` множество настроек, с помощью которых можно тонко настраивать вывод команды, также никто не запрещает вам делать конвейеры, чтобы отсечь всё лишнее. 

- Утилита `grep` помогает фильтровать результаты из команды `ps`, например, в нашем случае, чтобы вывести строки содержащие ключевое слово `ssh`.


- `-A`, `-e`, `(a)` - выбрать все процессы;
- `-a` - выбрать все процессы, кроме фоновых;
- `-d`, `(g)` - выбрать все процессы, даже фоновые, кроме процессов сессий;
- `-N` - выбрать все процессы кроме указанных;
- `-С` - выбирать процессы по имени команды;
- `-G` - выбрать процессы по ID группы;
- `-p`, `(p)` - выбрать процессы PID;
- `--ppid` - выбрать процессы по PID родительского процесса; 
- `-s` - выбрать процессы по ID сессии; 
- `-t`, `(t)` - выбрать процессы по tty; 
- `-u`, `(U)` - выбрать процессы пользователя.

## Перезагрузить систему

    sudo reboot

![Перезыгрузка](<images/38.png>)

## Вывод команды netstat -tan должен содержать
> tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN  
(если команды netstat нет, то ее нужно установить)

Команда `netstat -tan`

- отображает список открытых TCP-соединений на машине, включая номер порта, IP-адрес и состояние соединения для каждого соединения.

`sudo apt install net-tools`

- установка `net-tools`, т.к. команда не найдена

Вывод команды `netstat -tan`

![Установка и вывод команды netstat -tan](<images/39.png>)

## Объяснение значения ключей -tan, значение каждого столбца вывода, значение 0.0.0.0

**Значение ключей tan**

- `t (-tcp)` - показывать только TCP порты.
- `a (-all)` - показывать состояние всех сокетов.
- `n (-numeric)` - показывать ip адрес, а не сетевое имя (выводит IP-адреса и порты в числовом формате, а не в символьном формате)

**Значение столбцов**

- `Proto` - протокол, используемый сокетом. Так как была использована опция `-t`, в выводе пристутвуют только TCP-сокеты.
- `Recv-Q` - счётчик байт, не скопированных программой пользователя из этого сокета.
- `Send-Q` - счётчик байтов, не подтверждённых удалённым узлом.
- `Local Address` - адрес и номер порта локального конца сокета. Если указана опция `-n`, вывод в формате [адрес сокета:номер порта], иначе - [каноническое имя узла:соответствующее имя службы]. В интересующей нас строчке 0.0.0.0 - адрес локального конца сокета, 2022 - номер порта, который мы поменяли с 22 на 2022. Адрес 0.0.0.0 означает, что удаленный конец сокета будет доступен всем локальным ip-адресам.
- `Foreign Address` - адрес и номер порта удалённого конца сокета.
- `State` - состояние сокета. Состояние LISTEN означает, что сокет ожидает входящих подключений.

# Part 9. Установка и использование утилит top, htop


### По выводу команды top определить и написать в отчёте:

- uptime - up 13 min
- количество авторизованных пользователей - 1 user
- общую загрузку системы - 0.00
- общее количество процессов - 147
- загрузка cpu - 0.7%
- загрузку памяти - 360
- pid процесса занимающего больше всего памяти - 1312
- pid процесса, занимающего больше всего процессорного времени - 4466

![top 1](<images/40.png>)


![top 2](<images/41.png>)

### В отчёт вставить скрин с выводом команды htop:

- отсортированному по PID

  ![htop PID](<images/42.png>)

  Для сортировки нажать `F6` и `Enter`

  ![Сортировка](<images/43.png>)
  
- PERCENT_CPU

![htop PERCENT_CPU](<images/44.png>)

- PERCENT_MEM

![htop PERCENT_MEM](<images/45.png>)

- TIME

![htop TIME](<images/46.png>)

- отфильтрованному для процесса sshd (`F4`)

![htop sshd](<images/47.png>)

- с процессом syslog, найденным, используя поиск (`F3`)

![htop syslog](<images/48.png>)

- с добавленным выводом hostname, clock и uptime (`F2`)

![htop add](<images/49.png>)

# Part 10. Использование утилиты fdisk

## Запустить команду fdisk -l

    sudo fdisk -l

![fdisk](<images/50.png>)

Т.к swap раздел не показан, можно воспользоваться`free -h`

![Показать swap 1](<images/51.png>)

или `swapon --show`

![Показать swap 2](<images/52.png>)

## В отчёте написать название жесткого диска, его размер и количество секторов, а также размер swap

- название жесткого диска - /dev/sda
- его размер и количество секторов - 25 G / 52428800 sectors
- размер swap - 2G

# Part 11. Использование утилиты df

## Запустить команду df

![df](<images/53.png>)

## В отчёте написать для корневого раздела (/):
- размер раздела - 11758760
- размер занятого пространства - 6547432
- размер свободного пространства - 4592220
- процент использования - 59%

Единица измерения в выводе - килобайты

## Запустить команду df -Th

![df -Th](<images/54.png>)

## В отчёте написать для корневого раздела (/):
- размер раздела - 12G
- размер занятого пространства - 6.3G
- размер свободного пространства - 4.4G
- процент использования - 59%

Тип файловой системы для раздела - ext4


# Part 12. Использование утилиты du

## Запустить команду du

![du](<images/55.png>)

## Вывести размер папок /home, /var, /var/log (в байтах)

    sudo du -s -h -b /home /var/log /var

![Размер папок](<images/56.png>)

## Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)

    sudo du -h /var/log

![Вывести размер каждого вложенного элемента /var/log ](<images/57.png>)

# Part 13. Установка и использование утилиты ncdu

## Установить утилиту ncdu

   sudo apt install ncdu

![ncdu](<images/58.png>)

## Вывести размер папок /home, /var, /var/log

    ncdu /

![ncdu /](<images/59.png>)

    ncdu /var/log

![ncdu /var/log](<images/60.png>)

# Part 14. Работа с системными журналами

## Открыть для просмотра:

## 1. /var/log/dmesg

    vim /var/log/dmesg

![/var/log/dmesg](<images/61.png>)

Файл /var/log/dmesg содержит результаты прогона системной команды dmesg, которая выводит журнал кольцевого буфера ядра. В этом файле вы сможете найти информацию о загрузке операционной системы, обнаруженных ошибках и других событиях, связанных с работой ядра.

## 2. /var/log/syslog

    vim /var/log/syslog

![vim /var/log/syslog](<images/62.png>)

Файл /var/log/syslog является журнальным файлом общей системной службы, который содержит сообщения, отправляемые различными процессами операционной системы и другими службами. В этом файле вы можете найти информацию о работе различных приложений, системных событиях и других сообщениях, отправляемых различными процессами.

## 3. /var/log/auth.

    vim /var/log/auth.log

![vim /var/log/auth.log](<images/63.png>)

Файл /var/log/auth.log содержит информацию об аутентификации и авторизации пользователей в системе. В этом файле сохраняется информация о входах и выходах из системы, успешных и неудачных попытках входа, изменениях паролей и других действиях, связанных с безопасностью.

## Написать в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему

Последняя успешная авторизация была выполнена 20 апреля в 21:32 пользователем charlsih, методом входа login

![Последняя успешная авторизация](<images/64.png>)

### Перезапустить службу SSHd

    sudo service sshd restart

### Cкрин с сообщением о рестарте службы
![Перезапуск службы SSHd](<images/65.png>)

# Part 15. Использование планировщика заданий CRON

## Используя планировщик заданий, запустите команду uptime через каждые 2 мин

Изменить файл, установив uptime каждые две минуты

- первая снежинка минуты, /2 будет означать каждый 2мин

    echo "*/2 * * * * uptime >> /tmp/cron-test.txt" | sudo crontab -

![Установка uptime](<images/66.png>)

## Найти в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении

    cat /var/log/syslog

![uptime](<images/67.png>)

## Вывести на экран список текущих заданий для CRON

    sudo crontab -l

![Cписок текущих заданий для CRON](<images/68.png>)

## Вставить в отчёт скрин со строчками о выполнении

    grep -e "Apr .*CRON.*uptime" /var/log/syslog

![Cкрин со строчками о выполнении](<images/69.png>)

## Удалите все задания из планировщика заданий

- Чтобы удалить все задачи crontab, вы можете использовать команду
 
    `crontab -r`

## Cкрин со списком текущих заданий для CRON

![Задач нет](<images/70.png>)